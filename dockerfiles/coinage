FROM golang

ENV PORT "8080"
ENV GIN_MODE "release"

RUN go get github.com/tools/godep
RUN go get -u github.com/jonnykry/coinage
WORKDIR /go/src/github.com/jonnykry/coinage
RUN godep restore
RUN go build
ADD ./coinage.json /go/src/github.com/jonnykry/coinage/config.json

ENTRYPOINT /go/src/github.com/jonnykry/coinage/coinage

EXPOSE 8081
